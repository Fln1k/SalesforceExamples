<aura:component controller="customFlowController">
  <!-- Attributes -->
  <aura:attribute name="accountId" type="Id" default="" />
  <aura:attribute name="productsOptions" type="List" default="[]" />
  <aura:attribute name="total" type="Double" default="0" />
  <aura:attribute name="currency" type="String" default="$" />
  <!-- Events -->
  <aura:handler
    name="change"
    value="{!v.productsOptions}"
    action="{!c.recalculateTotal}"
  />
  <aura:handler name="init" value="{!this}" action="{!c.init}" />
  <!-- Layout -->
  <aura:iteration items="{!v.productsOptions}" var="pricebook">
    <c:priceBookTable options="{!pricebook}"/>
    <br />
  </aura:iteration>
  <div style="float: right">Total: {!v.total + v.productsOptions[0].currency}</div>
</aura:component>
